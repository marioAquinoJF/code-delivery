<ion-view>
    <ion-nav-title>
        Checkout
    </ion-nav-title> 
    <div class="bar bar-subheader">
        <button class="button button-icon ion-plus" ng-click="opeListProducts()"></button>
        <h2 class="title">Total: R$ {{total}}</h2>
        <button type="button" class="button button-clear button-icon ion-minus-circled" 
                ng-click="showDelete = !showDelete"
                ng-class="{'button-assertive': showDelete, 'button-dark': !showDelete}"></button>
    </div>
    <ion-content class="padding has-subheader">
        <ion-list show-delete="showDelete">
            <ion-item class="item-balanced" ng-show="cupom.value != null">
                <ion-delete-button class="icon ion-close" ng-click="removeCupom()"></ion-delete-button>
                <strong>
                    Cupom
                </strong>
                <span class="badge badge-dark">
                    R$ {{cupom.value}}
                </span>
            </ion-item>
            <ion-item ng-repeat="o in items" ng-click="openProductDatail($index)">
                <h2> {{o.name}}</h2>
                <div class="row">
                    <div class="col">
                        Quantity: {{o.quantity}}<br/>
                        <i class="ion ion-cash">{{o.price}}</i>
                    </div>
                    <div class="col text-right">
                        <i class="ion ion-social-usd"> {{o.quantity * o.price}}</i>
                    </div>
                </div>    

                <ion-delete-button class="ion ion-minus-circled" ng-click="removeItem($index)"></ion-delete-button>
            </ion-item>
        </ion-list>
        <button type="button" 
                class="button button-balanced button-full"
                ng-click='readBarCode()'
                ng-disabled="cupom.value != null">
            Adicionar Cupom
        </button>
        <button type="button" 
                class="button button-assertive button-full"
                ng-disabled="total <= 0"
                ng-click='save()'>
            Salvar Pedido
        </button>
    </ion-content>

</ion-view>